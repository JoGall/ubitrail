\hypertarget{classProcessor}{\section{Processor Class Reference}
\label{classProcessor}\index{Processor@{Processor}}
}


{\ttfamily \#include $<$Processor.\-hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classProcessor_acaeabaa5d52c03c6a112118c49196dbf}{Processor} (\hyperlink{structOptions}{Options} options, \hyperlink{classVideoGrabber}{Video\-Grabber} video\-Grab, bool has\-G\-U\-I=false, cv\-::\-Mat $\ast$preview=N\-U\-L\-L)
\item 
virtual \hyperlink{classProcessor_acf37952c5b420d4e903a512571678692}{$\sim$\-Processor} ()
\item 
void \hyperlink{classProcessor_a68a22b324edc0ef64f9b3cd513b1e778}{track} ()
\item 
\hypertarget{classProcessor_a094fa536ef16ea3662c3377928115275}{void {\bfseries set\-R\-O\-I\-For\-G\-U\-I} (std\-::string R\-O\-I\-Name)}\label{classProcessor_a094fa536ef16ea3662c3377928115275}

\item 
\hypertarget{classProcessor_a387474f67ba72edc1ed8aaed34f1d112}{bool {\bfseries get\-Deco} (cv\-::\-Mat \&out)}\label{classProcessor_a387474f67ba72edc1ed8aaed34f1d112}

\item 
\hypertarget{classProcessor_afeff66ffd64ccf90acf26a39650a1c72}{float $\ast$ {\bfseries get\-Tracker\-X\-Y\-Trained\-Territ} ()}\label{classProcessor_afeff66ffd64ccf90acf26a39650a1c72}

\item 
\hypertarget{classProcessor_af36c27815deeae7607e37e14fe5e2a02}{int $\ast$ {\bfseries get\-Tracker\-W\-H\-X\-Y\-\_\-\-R\-O\-I} ()}\label{classProcessor_af36c27815deeae7607e37e14fe5e2a02}

\item 
\hypertarget{classProcessor_af2dc8564c9f51b94c354ca27ef4ef0f6}{void {\bfseries set\-Is\-Finished} (bool b)}\label{classProcessor_af2dc8564c9f51b94c354ca27ef4ef0f6}

\item 
\hypertarget{classProcessor_a7e82f65e87756a77c1730aa3f0f808bb}{bool {\bfseries get\-Is\-Finished} ()}\label{classProcessor_a7e82f65e87756a77c1730aa3f0f808bb}

\item 
\hypertarget{classProcessor_ae0e9382de99b0f1fa24d324ff41507b4}{double {\bfseries get\-Progress} ()}\label{classProcessor_ae0e9382de99b0f1fa24d324ff41507b4}

\item 
\hypertarget{classProcessor_a5360848bc35c0858c57cb998602e2f21}{long {\bfseries get\-Time} ()}\label{classProcessor_a5360848bc35c0858c57cb998602e2f21}

\item 
\hypertarget{classProcessor_adbd497202f3826f40aaf0a96d26e49ed}{std\-::vector$<$ std\-::string $>$ {\bfseries get\-R\-O\-I\-Labels} ()}\label{classProcessor_adbd497202f3826f40aaf0a96d26e49ed}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classProcessor_a9c6b50097b0c6557977ac16c3e175f81}{make\-B\-G} (cv\-::\-Mat \&bg)
\item 
std\-::vector$<$ std\-::string $>$ \hyperlink{classProcessor_aabca68f9773e2ca862b5e512da3947cb}{make\-Labels} (std\-::vector$<$ cv\-::\-Rect $>$ new\-R\-O\-Is)
\item 
\hypertarget{classProcessor_a0cfbd1d9124b56ac7119ecd7db4ccf8c}{void {\bfseries update\-W\-H\-X\-Y\-\_\-\-R\-O\-I} ()}\label{classProcessor_a0cfbd1d9124b56ac7119ecd7db4ccf8c}

\item 
\hypertarget{classProcessor_a1bf0869716355640f3729a65101eeaaa}{void {\bfseries update\-X\-Y\-Trained\-Territ} ()}\label{classProcessor_a1bf0869716355640f3729a65101eeaaa}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
The class that is responsible of the processing. The class starts from a set of predefined options and a capture device. When constructed, a \hyperlink{classProcessor}{Processor} object make instances of \hyperlink{classTracker}{Tracker} class. The member function run() can then be called once to perform the whole analysis. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classProcessor_acaeabaa5d52c03c6a112118c49196dbf}{\index{Processor@{Processor}!Processor@{Processor}}
\index{Processor@{Processor}!Processor@{Processor}}
\subsubsection[{Processor}]{\setlength{\rightskip}{0pt plus 5cm}Processor\-::\-Processor (
\begin{DoxyParamCaption}
\item[{{\bf Options}}]{options, }
\item[{{\bf Video\-Grabber}}]{video\-Grab, }
\item[{bool}]{has\-G\-U\-I = {\ttfamily false}, }
\item[{cv\-::\-Mat $\ast$}]{preview = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}\label{classProcessor_acaeabaa5d52c03c6a112118c49196dbf}
The contructor. It builds Areas (via \hyperlink{classROIMaker}{R\-O\-I\-Maker}), make a label relative each area (via \hyperlink{classProcessor_aabca68f9773e2ca862b5e512da3947cb}{make\-Labels()}). Uses each area and its label to make a \hyperlink{classTracker}{Tracker} objects. It also uses these informations to initialises an instances \hyperlink{classDecorator}{Decorator}, \hyperlink{classVideoWriter}{Video\-Writer} and \hyperlink{classResultWriter}{Result\-Writer}. 
\begin{DoxyParams}{Parameters}
{\em options} & a structre containing a all parameters. \\
\hline
{\em video\-Grab} & an initialised instance of \hyperlink{classVideoGrabber}{Video\-Grabber}. \\
\hline
{\em has\-G\-U\-I} & a boolean indication whether or not a G\-U\-I will be used by the program \\
\hline
{\em preview} & an optional pointer to a cv\-::\-Mat. If it is non N\-U\-L\-L, the constructor will output a preview of the decorated frame. \\
\hline
\end{DoxyParams}
\hypertarget{classProcessor_acf37952c5b420d4e903a512571678692}{\index{Processor@{Processor}!$\sim$\-Processor@{$\sim$\-Processor}}
\index{$\sim$\-Processor@{$\sim$\-Processor}!Processor@{Processor}}
\subsubsection[{$\sim$\-Processor}]{\setlength{\rightskip}{0pt plus 5cm}Processor\-::$\sim$\-Processor (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classProcessor_acf37952c5b420d4e903a512571678692}
The destructor. 

\subsection{Member Function Documentation}
\hypertarget{classProcessor_a9c6b50097b0c6557977ac16c3e175f81}{\index{Processor@{Processor}!make\-B\-G@{make\-B\-G}}
\index{make\-B\-G@{make\-B\-G}!Processor@{Processor}}
\subsubsection[{make\-B\-G}]{\setlength{\rightskip}{0pt plus 5cm}void Processor\-::make\-B\-G (
\begin{DoxyParamCaption}
\item[{cv\-::\-Mat \&}]{bg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classProcessor_a9c6b50097b0c6557977ac16c3e175f81}
A protected member used to make an initial background image. It simply average frames into the background image. It also controls that frames are actualy readable. 
\begin{DoxyParams}{Parameters}
{\em bg} & an output cv\-::\-Mat. \\
\hline
\end{DoxyParams}
\hypertarget{classProcessor_aabca68f9773e2ca862b5e512da3947cb}{\index{Processor@{Processor}!make\-Labels@{make\-Labels}}
\index{make\-Labels@{make\-Labels}!Processor@{Processor}}
\subsubsection[{make\-Labels}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::string $>$ Processor\-::make\-Labels (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ cv\-::\-Rect $>$}]{new\-R\-O\-Is}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classProcessor_aabca68f9773e2ca862b5e512da3947cb}
A protected member used to sort labels in reading (human) order. For instance, if automatic detection of area is used on image of an array of circle\-: \par
 ooo \par
 ooo \par
 ooo \par
 the index of the \hyperlink{classArea}{Area} are going to be arbitrary, for instance\-: \par
 3,4,8 \par
 0,5,1 \par
 2,6,7 \par
 This function will attemps to defines labels in natural human reaqding order instead\-: \par
 0,1,2 \par
 3,4,5 \par
 6,7,8 \par
 This is done by only using relative coordinate and dimentions of the areas 
\begin{DoxyParams}{Parameters}
{\em new\-R\-O\-Is,an} & input vector of R\-O\-Is. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a vector of strings the same size than new\-R\-O\-Is containing labels for each new\-R\-O\-Is. 
\end{DoxyReturn}
finds the top of the next row \hypertarget{classProcessor_a68a22b324edc0ef64f9b3cd513b1e778}{\index{Processor@{Processor}!track@{track}}
\index{track@{track}!Processor@{Processor}}
\subsubsection[{track}]{\setlength{\rightskip}{0pt plus 5cm}void Processor\-::track (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classProcessor_a68a22b324edc0ef64f9b3cd513b1e778}
A public member function performing the tracking from A to Z. It loops through the video input\-:
\begin{DoxyEnumerate}
\item Decodes a frame
\item Sends the frame to each tracker
\item Buffers results from each tracker
\item Write the results for all trackers
\item Sends the frame to the \hyperlink{classDecorator}{Decorator}
\item Gets the decorated frame
\item Append the decorated frame to optional videos This process takes great advantage of multicore architectures. 
\end{DoxyEnumerate}

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
headers/Processor.\-hpp\item 
src/Processor.\-cpp\end{DoxyCompactItemize}
